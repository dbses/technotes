# 开篇词 | 想成为分布式高手？那就先把协议和算法烂熟于心吧

**为什么要单独讲分布式协议和算法呢？**

它其实就是决定分布式系统如何运行的核心规则和关键步骤。 如果一个人想真正搞懂分布式技术，开发出一个分布式系统，最先需要掌握的就是这部分知识。

举个例子，学数学的时候，我们总是会学到很多公式或者定理，我上学的时候，还觉得这些定理枯燥至极。但后来我明白了，这些定理和公式其实就是前人花了很长时间思考、验证、总结出来的规律，如果我们能在这之上做事情，更容易快速地找到正确答案。

**分布式算法是分布式技术中的核心**

> 经典书籍：《分布式系统：概念与设计》《分布式系统原理与范型》  

分布式系统里，最重要的事情，就是如何选择或设计适合的算法，解决一致性和可用性相关的问题了。  可尽管它是分布式技术中的核心与关键，但实际掌握的人或者公司却很少。  

> 我来说个真实的事儿。我刚刚提到的 InfluxDB 其实是一个开源的时序数据库系统，当然，开源的只是单机版本，如果你要使用集群功能，要么就是基于开源版本自研，要么就是购买人家的企业版本。而这里面，企业版本一个节点一年 License 授权费就是 1.5 万美刀，是不是很贵？那贵在哪里呢？相比于单机版本，企业版本的技术壁垒又是什么？  
>
> 在我自己折腾了一番 InfluxDB 系统后，我捂着胸口和你说，它的护城河就是以分布式算法
> 为核心的分布式集群能力。  

说点儿更实际的，现阶段，掌握分布式算法也是你面试架构师、技术专家等高端岗位时的敲门砖。 你可以搜索看看，知名的公司在招聘架构师或者高级工程师时，岗位要求中是不是写着熟悉分布式算法相关理论等内容？不过从我作为面试官的经验来看，懂这部分的候选人实在是少之又少。  

**分布式算法学习难点**

分布式算法虽然很重要，但是也比较难学，原因有这样几点。  

- 经典论文中细节没有讲清楚

  除了算法本身抽象，不容易理解之外，即使是非常经典的论文，也存在在一些关键细节上没有讲清楚的情况。比如，你比较熟悉的拜占庭将军问题，在阅读口信消息型拜占庭问题之解时，你是不是感到很吃力呢？那是因为论文没有说透彻。

- 网上资料质量参差不齐

  信息时代资料丰富，但质量参差不齐，甚至有错误。网上信息大多是“复制粘贴”的结果，而且因为分布式领域的研究多以英文论文的形式出现，中文翻译内容的错误非常多，这也给自主学习带来很多不必要的障碍和误导。如果你没有足够的好奇心和探究精神，很难完全吃透关键细节。  

- 理论未能结合实战应用

  很多资料是为了讲解理论而讲解理论，无法站在“用”的角度，将理论和实战结合。最终，你只能在“嘴”上理解，而无法动手。  

**方法得当，知识并不难学**

在我看来，要想掌握这部分内容，不仅要理解常用算法的原理、特点和局限，还要能根据场景特点选择适合的分布式算法。

所以，为了更好地帮你轻松、透彻地搞懂分布式技术，理解其中最核心和最为精妙的内容，我希望将自己支撑海量互联网服务中的分布式算法实战心得分享给你。

理论篇（01-04）：分布式架构设计核心且具有“实践指导性”的基础理论；

协议和算法篇（05-15）：原理、特点、适用场景和常见误区等。

实战篇（16-20）：掌握分布式基础理论和分布式算法在工程实践中的应用。

# 01 | 拜占庭将军问题：有叛徒的情况下，如何才能达成共识？

接下来，我就以战国时期六国抗秦的故事为主线串联起整篇文章，让你读懂、学透拜占庭将军问题。




