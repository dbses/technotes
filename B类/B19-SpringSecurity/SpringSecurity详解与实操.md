# 开篇词 | Spring Security，为你的应用安全与职业之路保驾护航

**这门课程是如何设计的？**

- 模块一：基础功能篇。这部分我将介绍 Spring Security 的一些基础性功能，包括认证、授权和加密。
- 模块二：高级主题篇。这部分功能面向特定需求，用于构建比较复杂的应用场景，包括过滤器、跨站点请求伪造保护、跨域资源共享，以及针对非 Web 应用程序的全局方法安全机制。
- 模块三：OAuth2 与微服务篇。这部分内容关注微服务开发框架Spring Cloud 与 Spring Security 之间的整合，我们将对 OAuth2 协议和 JWT 全面展开讲解，并使用这些技术体系构建安全的微服务系统，以及单点登录系统。
- 模块四：框架扩展篇。这部分内容是对 Spring Security 框架在应用上的一些扩展，包括在 Spring Security 中引入全新的响应式编程技术，以及如何对应用程序安全性进行测试的系统方法。

课程源码：https://github.com/lagouEdAnna/SpringSecurity-jianxiang

# ==基础功能篇==

# 01 | 顶级框架：Spring Security 是一款什么样的安全性框架？

Spring Security 提供的是一整套完整的安全性解决方案。面向不同的业务需求和应用场景，Spring Security 分别提供了对应的安全性功能，在接下来的内容中，我们将从单体应用、微服务架构以及响应式系统这三个维度对这些功能展开讨论。

**Spring Security 与单体应用**

在安全领域中非常常见但又容易混淆的两个概念，即认证（Authentication）和授权（Authorization）。

所谓认证，解决的是“你是谁”这一个问题，也就是说对于每一次访问请求，系统都能判断出访问者是否具有合法的身份标识。

一旦明确 “你是谁”，下一步就可以判断“你能做什么”，这个步骤就是授权。通用的授权模型大多基于权限管理体系，即对资源、权限、角色和用户的一种组合处理。

如果我们将认证和授权结合起来，就构成了对系统中的资源进行安全性管理的最常见解决方案，即先判断资源访问者的有效身份，再来确定其是否有对这个资源进行访问的合法权限，如下图所示：

![image-20230905233446595](https://technotes.oss-cn-shenzhen.aliyuncs.com/2023/202309052334742.png)

**Spring Security 与微服务架构**

服务提供者充当的角色就是资源的服务器，而服务消费者就是客户端。所以各个服务本身既可以是客户端，也可以作为资源服务器，或者两者兼之。

接下来，我们把认证和授权结合起来，梳理出微服务访问场景下的安全性实现方案，如下图所示：

![image-20230905233752129](https://technotes.oss-cn-shenzhen.aliyuncs.com/2023/202309052337170.png)

可以看到，与单体应用相比，在微服务架构中需要把认证和授权的过程进行集中化管理，所以在上图中出现了一个授权中心。 授权中心会获取客户端请求中所带有的身份凭证信息，然后基于凭证信息生成一个 Token，这个 Token 中就包含了权限范围和有效期。

**Spring Security 与响应式系统**

响应式编程是 Spring 5 最核心的新功能，也是 Spring 家族目前重点推广的技术体系。Spring 5 的响应式编程模型以 Project Reactor 库为基础，后者则实现了响应式流规范。





















