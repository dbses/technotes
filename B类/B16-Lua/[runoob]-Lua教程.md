# 01 | Lua 简介

**设计目的**

为了嵌入应用程序中，从而为应用程序提供灵活的扩展和定制功能。

**应用场景**

- 游戏开发
- 独立应用脚本
- Web 应用脚本
- 扩展和数据库插件（如 MySQL Proxy 和 MySQL WorkBench）
- 安全系统，如入侵检测系统

# 02 | Lua 基础

**交互式编程**

在命令行中输入以下命令进行交互模式：

```bash
lua -i 或 lua
```

**脚本式编程**

保存为以 lua 结尾的文件，例如 hello.lua，执行：

```bash
lua hello.lua
```

也可以在开头添加：

```lua
#!/usr/local/bin/lua

print("Hello World！")
```


**数据类型**

Lua 中有 8 个基本类型分别为：nil、boolean、number、string、userdata、function、thread 和 table。

- nil（空）

赋值为 nil 等同于删除；
nil 作比较时应该加上双引号；

- boolean（布尔）

false 和 nil 看作是 false；
其他包括数据 0 都是true；

- number（数字）

lua 只有这一种数字类型；

- string（字符串）

可以用 2 个方括号 “[[]]” 来表示一个字符串；
Lua 会尝试将数字字符串转成数字；
字符串连接使用的是 .. ；
使用 # 来计算字符串长度；

- table（表）

表的默认初始索引是从 1 开始的；
table 不会固定长度大小；

- function（函数）

函数可以存在变量里；

- thread（线程）

线程可以同时多个运行，而协程任意时刻只能运行一个，并且处于运行状态的协程只有被挂起（suspend）时才会暂停。

- userdata（自定义类型）

用于表示一种由应用程序或 C/C++ 语言库所创建的类型。

**变量**

Lua 变量有三种类型：全局变量、局部变量、表中的域。

全局变量

```bash
> print(b)
nil
> b=10
10
>
```

删除全局变量

```bash
b=nil
print(b)
```

**赋值语句**

可以对多个变量同时赋值；
先计算右边所有的值然后再执行赋值操作；
变量个数 > 值的个数，按变量个数补足 nil；
变量个数 < 值的个数，多余的值会被忽略；

**索引**

使用方括号 []，例如：t[i]；
当索引为字符串类型时，可简化为：t.i；

# 03 | 进阶语法

**循环**

循环处理方式：while、for、repeat...until、循环嵌套；
循环控制语句：break、goto；

**流程控制**

if、if...else、if嵌套

**函数**

默认为全局函数，可通过 local 设置为局部函数；
可设多返回值；
可变参数；

**运算符**

算术运算符；
关系运算符；
逻辑运算符；
其他运算符：..、#；
运算符优先级；

**字符串**

三种表示方法：单引号、双引号、[[]]；
字符串操作：截取、大小写转换、查找、反转、格式化、整数转换、匹配模式；

**数组**

一维数组；
多维数组；

**迭代器**

泛型for迭代器：保存迭代函数、状态常量、控制变量；
无状态的迭代器；
多状态的迭代器；

（未完全理解，需要再查资料详细学习）

# 04 | 高级语法



# 05 | 实操演练



